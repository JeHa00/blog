---
title: "[TIL] Network OSI 7 layer: 1계층과 2계층"
date: 2023-05-07T21:14:44+09:00
draft: true
summary: OSI 7 layer에서 1계층과 2계층에 대해 더 깊이 알아보자.   
tags: ["TIL", "Network"]
categories: ["Network"]
---

# 1. 1계층: 물리계층

## 1.1 개요

---

- OSI 7 layer에서 제일 하위에 있는 계층

- 데이터 링크로부터 받은 데이터를 케이블 같은 전송 매체로 전송하기 위해서 '전기 신호'로 변환하는 역할

  - 그래서 전송 매체와 관련이 깊다.

- 주요 네트워크 기기

  - 각 장치를 연결하고, 신호를 증폭하기 위해서 사용되는 '리피터' 와 '허브'

- 주요 데이터 단위: 비트

&nbsp;

## 1.2 네트워크 전송 매체: 케이블  

---
변환된 전기 신호를 전달해주기 위해서는 '전송 매체'가 필요하다.

이 전송 매체에 대해 알아보자.

### 전송 매체의 종류

유선 케이블과 무선 케이블로 크게 나눠진다.

- 유선 케이블

  - UTP 케이블(일반적으로 불리는 LAN cable): 우리가 흔히 랜선이라 부르는 케이블로서, 2가지로 나눠진다. 선을 꼬은 이유는 노이즈를 억제하기 위해서다.  
    - 다이렉트 케이블, 크로스 케이블
      - 양 각 끝의 RT 커넥터에 연결된 선의 위치가 동일하면 다이렉트 케이블, 크로스되어 다르면 크로스 케이블이다.
    - UTP 케이블 규격도 별도로 존재한다.  

  - 동축 케이블, 광섬유 케이블
    - 위 두 케이블에 대한 상세 설명은 생략한다.  

- 무선 케이블
  - 유선 케이블처럼 선이 꼬일 일은 없지만, 속도가 불안정하며 보안상 위험하고, 전파에 영향을 많이 받는다.  
  - 전체 구조: 무선 LAN 액세스 포인트(ex: 공유기) +  무선 LAN 클라이언트(ex: 공유기에 연결한 노트북들)
  - 연결 방식
    - 인프라스트럭처 방식: 유선 이더넷에 연결된 공유기를 중심으로 기기들이 연결된 상태  
    - 애드혹 방식: 무선 클라이언트끼리 직접 통신하는 방식  ex) 닌텐도 근거리 통신  

&nbsp;

## 1.3 리피터와 허브

---

### 리피터(중계 역할)

- 통신 기기가 서로 멀리 있을 때, 거리에 반비례해서 신호가 약해지는데 이를 증폭하여 다시 신호를 복원하고 거리를 더 연장시키는 기기  

- 하지만 요즘 네트워크 장비는 리피터의 기능을 기본적으로 내장되어 나오기 때문에 리피터가 별도로 필요하지 않다.  

### 허브

- 여러 컴퓨터들을 서로 중계해주는 역할을 하는 네트워크 장비로서, 리피터의 증폭 역할이 내장되어 있다.

- 종류:
  - 더미 허브: 1계층의 주요 장비  
    - 네트워크의 전체 대역폭(bandwidth)을 허브에 연결된 컴퓨터들끼리 분할해서 사용하는 방식이다.  
    - 예를 들어 대역폭이 100Mbps 라고할 때, 이 허브에 연결된 컴퓨터가 4대라면 각 컴퓨터의 대역폭은 25Mbps씩 나눠서 속도를 지원한다.  
    - 그래서 분할해서 사용할수록 속도가 떨어지기 때문에 환경에서만 사용하는 방식이다.  
    - 어째서 더미 허브라고 불리는가?
      - 이 더미 허브에 노트북 pc1, pc2, pc3, pc4가 연결되어 있다고 해보자. pc1이 pc2에게만 데이터를 전송하고 싶어도 더미 허브는 포트에 연결된 모든 클라이언트에게 데이터를 전송하기 때문이다.
  - 스위칭 허브(스위치): 2계층의 주요 장비  
    - 더미 허브의 문제점을 개선한 허브  
    - 데이터를 전송하는 기능만 있는 더미 허브와 달리 각종 관리 기능이 추가되어 있다.  
    - 이 스위칭 허브에 대한 상세 설명은 2계층 내용 정리에서 다룬다.  

&nbsp;

## 1.4 네트워크 토폴로지

---

![image](https://upload.wikimedia.org/wikipedia/commons/9/96/NetworkTopologies.png)

- from: 위키피디아  

### 성형

- 중앙 집중식 형태  
- 일대일
- 장단점
  - 장점: 고속의 대규모 네트워크  
  - 단점: 중앙 시스템 고장 시 전체 네트워크 중단  

### 버스형

- 구조가 가장 간단
- 장단점
  - 장점: 구조가 간단하여 설치가 쉽고 비용이 저렴
  - 단점: 어느 한 곳에 장애가 발생 시, 전체 네트워크에 영향  

### 링형

- 고리 모양으로 둥글게 연결

- 장단점
  - 장점: 케이블 비용 저렴, 네트워크 전송 시 충돌이 없다.  
  - 단점: 어느 한 곳에 장애가 발생할 시 전체 네트워크가 중단, 재구성이나 변겨잉 어렵다  

### 망형

- 공중 전화망과 공중 데이터 통신망에 적합

- 장단점
  - 장점: 한 곳에 장애가 발생하여도 다른 회선을 사용하면 되서 신뢰성이 높음  
  - 단점: 설치 비용이 높고, 유지보수가 힘들다. 또한, 어느 한 곳에 장애가 발생하면 발생 위치를 추적하기 어렵다  

&nbsp;

---

# 2. 2계층: 데이터 링크 계층

## 2.1 개요

---

- 네트워크 장치 간 데이터를 전송하는 기능과 절차를 제공하는 계층  

- 물리적 주소 설정, 흐름제어, 에러제어 등  

- 주요 네트워크 기기: 스위치
- 주요 프로토콜: 이더넷, CSMA/CD

- 데이터 단위: Frame
- 이더넷 헤더 + IP 헤더 + TCP 헤더 + 응용 헤더 + User data + 트레일러  

&nbsp;

## 2.2 이더넷

---

- 데이터를 전송하는 프로토콜, 네트워크를 구성하는 기술 방식  
- 대부분의 LAN은 이더넷 방식  
- ISO에서 국제 표준으로 지정
- 초기 네트워크 규격은 버스형이어서 **CSMA/CD** 기술이 사용되었다.
- 하지만 점차 데이터의 양이 매우 많아지면서 고속 네트워크 망이 필요하여 아래 기술이 현재 사용 중이다.
  - Gigabit Ethernet
  - 데이터의 전송속도가 1Gbps로 향상  
  - 기존의 이더넷과 호환
  - 스타넷(성형) 네트워크 토폴로지 이용  

- 이더넷 규격
  | 이더넷 규격 | 전송 속도 | 전송 매체 |
  | ---- |---- |---- |
  | 10BASE5 | 10Mbps | 동축 케이블|
  | 10BASE2 | 10Mbps | 동축 케이블|
  | 10BASE-T | 10Mbps | UTP 케이블|
  | 100BASE-FX | 100Mbps | 광섬유 케이블|
  | 1000BASE-SX | 1000Mbps | 광섬유 케이블|
  | 1000BASE-LX | 1000Mbps | 광섬유 케이블|
  | 10GBASE-T | 10Gbps | UTP 케이블|  

  - SX: Short wavelength / LX: Long ...
  - SX와 LX는 전송 거리의 차이: 550m / 5Km

&nbsp;

## 2.3 이더넷 프레임, 이더넷 헤더

---

### 이더넷 헤더와 트레일러

- 이더넷 헤더에는 다음 정보가 포함되어 있다.

  - 목적지 MAC 주소 + 출발지 MAC 주소 + 타입  
  - 타입: 상위 계층의 프로토콜 종류를 구분하는 역할  (IPv4, IPv6..)

- 이더넷 트레일러에는 오류 발생 체큐 용도로 사용되어 **FCS(Frame Check Sequence)** 라 불린다.  
- 이 프레임을 주고 받으면서 MAC 주소를 얻는다.

### 이더넷 프레임

- 이더넷 헤더와 트레일러가 붙으면서 캡슐화된 데이터를 **프레임** 이라 한다.  
- 캡슐화 시 이더넷 헤더와 트레일러를 부착  
- 역캡슐화 시 이더넷 헤더와 트레일러를 제거  

- 이더넷 프레임의 크기: 64 ~ 1518 byte = 이더넷헤더 + packet + 트레일러
  - 이더넷 헤더 = 14Byte = 목적지 MAC 주소 (6 Byte) + 출발지 MAC 주소 (6 Byte) + 타입 (2 Byte)
  - packet = 46 ~ 1500 Byte  
  - 트레일러 = 4Byte  

&nbsp;

## 2.4 MAC 주소

---

&nbsp;

## 2.5 스위치

---

&nbsp;

## 2.6 반이중 통신, 전이중 통신

---

&nbsp;

## 2.7 CSMA/CD

---

# Reference

- [네트워크, 그림으로 이해해자](https://www.inflearn.com/course/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EA%B7%B8%EB%A6%BC-%EC%9D%B4%ED%95%B4/dashboard)
