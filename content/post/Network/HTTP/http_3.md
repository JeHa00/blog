---
title: "[TIL] HTTP basic"
date: 2022-03-09T17:56:30+09:00
draft: false
summary: HTTPλ€ λ¬΄μ—‡μ΄κ³ , HTTPμ νΉμ§•μΈ ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°, stateless, connectionless, HTTP mesageμ— λ€ν•΄ μ•μ•„λ³Έλ‹¤.
tags: ["TIL", "Network", "HTTP"]
categories: "Network"
---

# 0. Introduction

- HTTP ν•™μµλ‚΄μ©μ κΈ°λ³Έ μ¶μ²: κΉ€μν•λ‹μ [λ¨λ“  κ°λ°μλ¥Ό μ„ν• HTTP μ›Ή κΈ°λ³Έμ§€μ‹](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC) μ΄λ‹¤.
- κ°•μλ¥Ό λ“£κ³  μ •λ¦¬ν• λ‚΄μ©κ³Ό λ¨λ¥΄λ” λ¶€λ¶„μ— λ€ν• μ¶”κ°€ λ‚΄μ©μ„ ν•©μ³ μ¬λ¦°λ‹¤.
- μ΄ κ°•μλ” HTTPμ— λ€ν• μ›Ή κΈ°λ³Έμ§€μ‹μ„ μ„¤λ…ν•λ” κ°•μμ΄λ―€λ΅, λ‚΄μ©μ΄ κ°„λµν•  μ μλ‹¤.

- ν•™μµ μ΄μ : ν”„λ μ„μ›ν¬λ¥Ό μ‚¬μ©ν•μ—¬ μ›Ή κ°λ°μ„ λ°°μ°κΈ° μ „μ—, HTTPμ— λ€ν•΄ κΈ°λ³Έμ μΈ μ§€μ‹μ„ μ•κ³ μ HTTP κ³µλ¶€λ¥Ό μ‹μ‘ν•λ‹¤. μ΄ κ°•μμ— λ€ν•΄ κ³µλ¶€ ν›„, λ„¤νΈμ›ν¬ μ „λ°μ— λ€ν•΄ κ³µλ¶€ν•λ‹¤.

&nbsp;

---

# 1. λ¨λ“  κ²ƒμ΄ HTTP

## 1.1 HTTPλ€? (**μ§€κΈμ€ HTTP μ‹λ€!**)

: λ§ν¬λ¥Ό ν†µν•΄ HTML κ°™μ€ λ¬Έμ„λ¥Ό μ—°κ²°ν•  μ μλ” ν”„λ΅ν† μ½μ„ μλ―Έν•λ‹¤.
ν•μ§€λ§, μ΄μ λ” λ¬Έμ„ λΏλ§ μ•„λ‹λΌ **HTTP λ©”μ„Έμ§€μ— λ¨λ“  κ²ƒμ„ μ „μ†΅**ν•λ‹¤.

- HTML, TEXT
- IMAGE, μμ„±, μμƒ, νμΌ
- JSON, XML (API)
- κ±°μ λ¨λ“  ν•νƒμ λ°μ΄ν„°λ¥Ό μ €μ¥ν•μ—¬ μ „μ†΅ κ°€λ¥ν•λ‹¤.
- μ„λ²„ κ°„μ— λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ λ•λ„ λ€λ¶€λ¶„ HTTPλ¥Ό μ‚¬μ©ν•λ‹¤.

&nbsp;

## 1.2 HTTP μ—­μ‚¬ (HTTP/1.1μ„ κΈ°μ¤€μΌλ΅ ν•™μµ)

- HTTP/0.9 1991λ…„: GET λ©”μ„λ“λ§ μ§€μ›, HTTP ν—¤λ”X
- HTTP/1.0 1996λ…„: λ©”μ„λ“, ν—¤λ” μ¶”κ°€
- **HTTP/1.1 1997λ…„: κ°€μ¥ λ§μ΄ μ‚¬μ©, μ°λ¦¬μ—κ² κ°€μ¥ μ¤‘μ”ν• λ²„μ „**
  - HTTP κ°•μλ” μ΄ λ²„μ „μ„ κΈ°μ¤€μΌλ΅ μ„¤λ…ν•λ‹¤.
  - RFC2068 (1997) -> RFC2616 (1999) -> RFC7230~7235 (2014)
  - ν„μ¬λ” RFC7230 λ²„μ „λ¶€ν„° λ³Έλ‹¤.
- HTTP/2 2015λ…„: μ„±λ¥ κ°μ„ 
- HTTP/3 μ§„ν–‰μ¤‘: TCP λ€μ‹ μ— UDP μ‚¬μ©, μ„±λ¥ κ°μ„ 

&nbsp;

## 1.3 κΈ°λ° ν”„λ΅ν† μ½

- `TCP` κΈ°λ°μΌλ΅ μ‘λ™ν•λ” ν”„λ΅ν† μ½μ€ `HTTP/1.1`, `HTTP/2` λ‹¤.
- `UDP` κΈ°λ°μΌλ΅ μ‘λ™ν•λ” ν”„λ΅ν† μ½μ€ `HTTP/3` λ‹¤.
  - κΈ°λ³Έμ μΌλ΅ HTTP/1.1μ—μ„ κ°μ„ λ κ²ƒμ΄λ―€λ΅ μ°λ¦¬λ” HTTP/1.1μ„ κ³µλ¶€ν•λ‹¤.
- ν„μ¬ HTTP/1.1 μ£Όλ΅ μ‚¬μ©ν•λ‹¤.
  - HTTP/2, HTTP/3λ„ μ μ  μ¦κ°€ν•κ³  μλ‹¤.

> [HTTP/3κ°€ UDP κΈ°λ°μΈ μ΄μ ]  
> κΈ°λ³Έ TCPλ” 3 way handshakeλ΅ μ‹ λΆ°μ„±μ΄λ‚ μ—°κ²°μ„±μ΄ λ³΄μ¥λμ§€λ§, μ†λ„κ°€ λ–¨μ–΄μ§„λ‹¤. κ·Έλμ„ UDPλ¥Ό μ• ν”λ¦¬μΌ€μ΄μ… λ λ²¨μ—μ„ μ¬μ„¤κ³„λμ–΄ λ‚μ¨κ² `HTTP/3`λ‹¤.

&nbsp;

- μ‚¬μ΄νΈμ—μ„ κΈ°λ° ν”„λ΅ν† μ½μ„ ν™•μΈν•λ ¤λ©΄ κ²€μ‚¬(F12)μ— λ“¤μ–΄κ°€ `Network tab`μ„ ν΄λ¦­ ν•λ‹¤.
- ν•λ‹¨μ— Name tabμ„ μ¤λ¥Έμ½ λ§μ°μ¤ ν΄λ¦­ν•μ—¬ Protocolμ„ μ²΄ν¬ν•λ‹¤.
- h3λ” http/3 κ³ , h2λ” http/2 λ¥Ό μλ―Έν•λ‹¤.
- κµ¬κΈ€μ€ h3λ¥Ό μ‚¬μ©ν•κ³ , λ„¤μ΄λ²„λ” h2λ¥Ό μ‚¬μ©ν•λ‹¤.

![image](https://user-images.githubusercontent.com/78094972/157368318-ca06aad3-5926-4e3f-a4c9-7168daa68fc1.PNG)

![image](https://user-images.githubusercontent.com/78094972/157368348-06f8e79f-3f69-40bc-a24c-2cac341bd340.PNG)

&nbsp;

## 1.4 HTTP νΉμ§•

- ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°
- λ¬΄μƒνƒ ν”„λ΅ν† μ½(stateless), λΉ„μ—°κ²°μ„±
- HTTP λ©”μ‹μ§€
- λ‹¨μν•¨, ν™•μ¥ κ°€λ¥
  - HTTPλ” λ‹¨μν•κ³ , μ¤ν™λ„ μ½μ–΄λ³Όλ§ ν•λ‹¤.
  - HTTP λ©”μ‹μ§€λ„ λ§¤μ° λ‹¨μν•λ‹¤.
  - ν¬κ² μ„±κ³µν•λ” ν‘μ¤€ κΈ°μ μ ν•λ‚μ μλ΅, λ‹¨μν•μ§€λ§ ν™•μ¥ κ°€λ¥ν• κΈ°μ μ΄λ‹¤.

κ° νΉμ§•λ“¤μ— λ€ν•΄ μ•μ•„λ³΄μ.

&nbsp;

---

# 2. ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°

- HTTPλ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κµ¬μ΅°λ΅ λμ–΄μλ‹¤.
- ν΄λΌμ΄μ–ΈνΈλ” HTTP λ©”μ„Έμ§€λ¥Ό λ§λ“¤μ–΄μ„ μ„λ²„μ— μ”μ²­(request)μ„ λ³΄λ‚Έ ν›„, μ„λ²„λ΅λ¶€ν„° μ‘λ‹µ(response)μ΄ μ¬ λ•κΉμ§€ κΈ°λ‹¤λ¦°λ‹¤.
- μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ¨ μ”μ²­(request)μ— λ€ν• κ²°κ³Όλ¥Ό λ§λ“¤μ–΄μ„ μ‘λ‹µ(response)ν•λ‹¤.

- [ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°κ°€ μ¤‘μ”ν• μ΄μ ]  
  - λ…λ¦½μ  κµ¬μ΅° -> κ°μμ μ—­ν• μ— μ§‘μ¤‘
  - μ›λ‚ μ—λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ λ¶„λ¦¬λμ–΄ μμ§€ μ•κ³ , ν•©μ³μ Έ μμ—λ‹¤. κ·Έν›„ λΉ„μ§€λ‹μ¤ λ΅μ§κ³Ό λ°μ΄ν„°λ” μ„λ²„κ°€ λ‹΄λ‹Ήν•μ—¬ μ§‘μ¤‘ν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” UI μ‚¬μ©μ„±μ— μ§‘μ¤‘ν–λ‹¤.
  - μ΄λ΅ μΈν•΄μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” κ°κ° **_λ…λ¦½μ μΌλ΅_** μ§„ν™”ν•  μ μμ—λ‹¤.  

---

# 3. Stateful, Stateless


## 3.1 Stateful

### 'Stateful' μ΄λ€??

**'ν• μ„λ²„'κ°€ ν΄λΌμ΄μ–ΈνΈμ μ΄μ „ μƒνƒλ¥Ό λ³΄μ΅΄(κΈ°μ–µ)ν•κΈ° λ•λ¬Έμ—**, ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— μ‘λ‹µν•λ” μ„λ²„κ°€ **_ν•­μƒ κ°™μ€ μ„λ²„λ΅ μ μ§€_** λμ–΄μ•Ό ν•λ” μƒνƒλ¥Ό λ§ν•λ‹¤.

#

### 'Stateful(μƒνƒ μ μ§€)'μ λ¬Έμ μ μ€ λ¬΄μ—‡μΌκΉ??

μ„λ²„κ°€ λ©μ¶”κ±°λ‚ ν•λ” μ—¬λ¬ μ΄μ λ΅ ν•΄λ‹Ή μ„λ²„λ¥Ό μ“Έ μκ°€ μ—†λ” μƒν™©μ΄ λ°μƒν–λ‹¤. λ‹¤λ¥Έ μ„λ²„λ¥Ό μ΄μ©ν•΄μ•Ό ν•λ‹¤. μ΄λ° κ²½μ°, μƒλ΅μ΄ μ„λ²„μ—μ„ μ΄μ „ μ„λ²„μ— κ°€μ§€κ³  μλ μƒνƒκ°’λ“¤μ„ κ°€μ§€κ³  μμ§€ μ•μ•„ μ—λ¬κ°€ λ°μƒλλ‹¤.

- μμ‹: κ³ κ°μ„ ν΄λΌμ΄μ–ΈνΈ, μ μ›μ„ μ„λ²„λΌκ³  μƒκ°ν•μ.

  - μ„λ²„κ°€ λ¬Έμ  μ—†μ΄ μ μ§€λλ” κ²½μ°

  ```yml
     κ³ κ°: μ΄ `λ…ΈνΈλ¶` μ–Όλ§μΈκ°€μ”?
     μ μ›: 100λ§μ› μ…λ‹λ‹¤. (λ…ΈνΈλ¶ μƒνƒ μ μ§€)

     κ³ κ°: `2κ°` κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
     μ μ›: 200λ§μ› μ…λ‹λ‹¤. μ‹ μ©μΉ΄λ“, ν„κΈμ¤‘μ— μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ ν•μ‹κ² μ–΄μ”?
            (λ…ΈνΈλ¶, 2κ° μƒνƒ μ μ§€)

     κ³ κ°: `μ‹ μ©μΉ΄λ“`λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
     μ μ›: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤. (λ…ΈνΈλ¶, 2κ°, μ‹ μ©μΉ΄λ“ μƒνƒ μ μ§€)
  ```

  - μ„λ²„κ°€ λ°”λ€” κ²½μ°

  ```yml
    κ³ κ°: μ΄ `λ…ΈνΈλ¶` μ–Όλ§μΈκ°€μ”?
    μ μ› A: 100λ§μ› μ…λ‹λ‹¤.

    κ³ κ°: `2κ°` κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
    μ μ› B: ? λ¬΄μ—‡μ„ 2κ° κµ¬λ§¤ν•μ‹κ² μ–΄μ”? (μƒνƒμ μ§€ X)

    κ³ κ°: `μ‹ μ©μΉ΄λ“`λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
    μ μ›C: ? λ¬΄μ¨ μ ν’μ„ λ‡ κ° μ‹ μ©μΉ΄λ“λ΅ κµ¬λ§¤ν•μ‹κ² μ–΄μ”? (μƒνƒ μ μ§€ X)

  ```

ν• μ„λ²„μ—μ„λ§ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό κΈ°μ–µν•κΈ° λ•λ¬Έμ—, μ„λ²„κ°€ λ³€κ²½λλ©΄ κΈ°μ΅΄ μ„λ²„μ— μ €μ¥λ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό κΈ°μ–µν•μ§€ λ»ν•μ—¬ μ—λ¬κ°€ λ°μƒν–λ‹¤. κ·Έλμ„ **_ν•­μƒ κ°™μ€ μ„λ²„λ΅ μ μ§€_** λμ–΄μ•Ό ν•λ‹¤.

&nbsp;

---

## 3.2 Stateless

### Stateless λ€??

**μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ΄μ „ μƒνƒλ¥Ό λ³΄μ΅΄(κΈ°μ–µ)ν•μ§€ μ•κ³ **, ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν•  λ•λ§λ‹¤ **_λ§¤λ² λ¨λ“  μƒνƒ κ°’λ“¤μ„ μ „λ‹¬_** ν•κΈ° λ•λ¬Έμ—, **_μ„λ²„ λ³€κ²½μ΄ μ©μ΄_** ν•λ‹¤.

### μμ‹

κ³ κ°μ„ ν΄λΌμ΄μ–ΈνΈ, μ μ›μ„ μ„λ²„λΌκ³  μƒκ°ν•μ.

- μ„λ²„κ°€ λ¬Έμ  μ—†μ΄ μ μ§€λλ” κ²½μ°

  ```yml
    κ³ κ°: μ΄ `λ…ΈνΈλ¶` μ–Όλ§μΈκ°€μ”?
    μ μ›: 100λ§μ› μ…λ‹λ‹¤.

    κ³ κ°: `λ…ΈνΈλ¶ 2κ°` κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
    μ μ›: λ…ΈνΈλ¶ 2κ°λ” 200λ§μ› μ…λ‹λ‹¤. μ‹ μ©μΉ΄λ“, ν„κΈμ¤‘μ— μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ ν•μ‹κ² μ–΄μ”?

    κ³ κ°: `λ…ΈνΈλ¶ 2κ°`λ¥Ό `μ‹ μ©μΉ΄λ“`λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
    μ μ›: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤.
  ```

- μ„λ²„κ°€ λ°”λ€” κ²½μ°

  ```yml
    κ³ κ°: μ΄ 'λ…ΈνΈλ¶' μ–Όλ§μΈκ°€μ”?
    μ μ›A: 100λ§μ› μ…λ‹λ‹¤.

    κ³ κ°: 'λ…ΈνΈλ¶ 2κ°' κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
    μ μ›B: λ…ΈνΈλ¶ 2κ°λ” 200λ§μ› μ…λ‹λ‹¤. μ‹ μ©μΉ΄λ“, ν„κΈμ¤‘μ— μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ ν•μ‹κ² μ–΄μ”?

    κ³ κ°: 'λ…ΈνΈλ¶ 2κ°'λ¥Ό 'μ‹ μ©μΉ΄λ“'λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
    μ μ›C: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤.
  ```

ν΄λΌμ΄μ–ΈνΈκ°€ λ¨λ“  μƒνƒ κ°’μ„ μ„λ²„μ— μ „λ‹¬ν•κΈ° λ•λ¬Έμ—, μ„λ²„κ°€ μ¤‘κ°„μ— λ°”λ€μ–΄λ„ λ¬Έμ κ°€ λμ§€ μ•λ”λ‹¤. ν•­μƒ κ°™μ€ μ„λ²„λ΅ μ μ§€λ  ν•„μ”μ—†λ‹¤. κ·Έλμ„ **μ„λ²„ λ³€κ²½μ΄ μ©μ΄**ν•κΈ° λ•λ¬Έμ—, **`stateless`** λ” **λ¬΄ν•ν• μ„λ²„ μ¦μ„¤μ΄ κ°€λ¥**ν•λ‹¤.

### λ¬΄ν•ν• μ„λ²„ μ¦μ„¤λ΅ μΈν• μ΄μ 

κ·Έλ¬λ©΄ μ„λ²„ μ¦μ„¤μ΄ λ¬΄ν•ν κ°€λ¥ν•λ‹¤λ©΄ μ–΄λ–¤ μ΄μ μ΄ μμ„κΉ???

κ°™μ€ κΈ°λ¥μ„ ν•λ” μ„λ²„λ“¤ μ•μ—μ„ μ„λ²„μ **_μν‰ ν™•μ¥(scale out)_** μ— μ λ¦¬ν•λ‹¤.

![image](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb6939ea2-0d68-4986-bc51-92a9eaf1b0a6%2FUntitled.png&blockId=8367b500-6305-4a9d-972d-babc19570513)

### π”† statelessμ ν•κ³„μ™€ μ‹¤λ¬΄ λ°©μ‹

μΆ‹μ€ μ΄μ λ“¤μ΄ λ§μ§€λ§ μ‹¤λ¬΄ ν•κ³„κ°€ μ΅΄μ¬ν•μ—¬, λ¨λ“  κ²ƒμ„ `stateless(λ¬΄μƒνƒ)` λ΅ ν•  μ μ—†λ‹¤ μ‹¤λ¬΄ ν•κ³„κ°€ μ΅΄μ¬ν•λ‹¤.

- λ¬΄μƒνƒ μμ‹: λ΅κ·ΈμΈμ΄ ν•„μ” μ—†λ” λ‹¨μν• μ„λΉ„μ¤ μ†κ° ν™”λ©΄
- μƒνƒ μ μ§€ μμ‹: λ΅κ·ΈμΈ
  - λ΅κ·ΈμΈν• μ‚¬μ©μμ κ²½μ°, λ΅κ·ΈμΈ ν–λ‹¤λ” μƒνƒλ¥Ό μ„λ²„μ— μ μ§€ν•΄μ•Ό ν•λ‹¤.
  - μΌλ°μ μΌλ΅ **_λΈλΌμ°μ € μΏ ν‚¤μ™€ μ„λ²„ μ„Έμ… λ“±μ„ μ‚¬μ©ν•΄μ„_** μƒνƒλ¥Ό μ μ§€ν•λ‹¤.

κ·Έλμ„ μƒνƒμ μ§€λ” μµμ†ν•λ§ μ‚¬μ©ν•κ³ , μµλ€ν• λ¬΄μƒνƒλ΅ μ„λ²„λ¥Ό μ„¤κ³„ν•λ‹¤.

β—οΈ μν‰ ν™•μ¥(scale out)κ³Ό μμ§ ν™•μ¥(scale up)μ μ°¨μ΄: [μ¤μΌ€μΌ μ•„μ›ƒκ³Ό μ¤μΌ€μΌ μ—…](https://m.blog.naver.com/islove8587/220548900044)

&nbsp;

## 3.3 π”† μ •λ¦¬

- httpλ” stateful, stateless λ‘ μƒνƒλ¥Ό λ¨λ‘ μ‚¬μ©ν•λ‹¤.    

- Stateful (μƒνƒμ μ§€): μ¤‘κ°„μ— μ„λ²„κ°€ λ³€κ²½λλ©΄ μ•λλ‹¤.

  - λ§μ•½ μ„λ²„κ°€ λ³€κ²½λμ•Ό ν•λ‹¤λ©΄ μƒνƒ μ •λ³΄λ¥Ό μ „λ¶€ λ‹¤λ¥Έ μ„λ²„μ—κ² λ―Έλ¦¬ μ•λ ¤μ¤μ•Ό ν•λ‹¤.

- Stateless (λ¬΄μƒνƒ): μ¤‘κ°„μ— μ„λ²„κ°€ λ°”λ€μ–΄λ„ λλ‹¤.
  - κ·Έλμ„ μ„λ²„λ” μν‰μ  ν™•μ¥μ— μ λ¦¬ν•λ‹¤. (scale out)
  - **_ν•μ§€λ§ λ¨λ“  κ±Έ λ¬΄μƒνƒλ΅ ν•  μ μ—†κΈ° λ•λ¬Έμ—, λ¬΄μƒνƒλ΅ μ„λ²„λ¥Ό μµλ€ν• μ„¤κ³„ν•λ©°, μƒνƒ μ μ§€λ΅ μ„λ²„λ¥Ό μµμ†ν• μ„¤κ³„ν•λ‹¤._**

&nbsp;

---

# 4. λΉ„μ—°κ²°μ„± (connectionless)κ³Ό μ§€μ† μ—°κ²°

- HTTP/1.0 μ—μ„λ” μ§€μ† μ—°κ²°(persistent connection) κΈ°λ¥μ΄ μ—†μ—μ§€λ§, HTTP/2.0 λ¶€ν„°λ” μ¶”κ°€λμ—λ‹¤.  

- μ§€μ† μ—°κ²°μ„ μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” `Connection: keep-alive` μ„ HTTP ν—¤λ”μ— μ¶”κ°€ν•λ‹¤.  

## 4.1 μ—°κ²°μ„ μ μ§€ν•λ” λ¨λΈ

![image](https://user-images.githubusercontent.com/78094972/157386174-01e9379a-9c31-4423-8043-fb25905a794d.PNG)

- TCP/IP μ—°κ²°λ΅ μƒλ΅μ΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ—°κ²°ν•λ©΄μ„ μ΄μ „ ν΄λΌμ΄μ–ΈνΈμ™€μ μ—°κ²°μ„ μ μ§€ν•λ‹¤.
- μ—°κ²°λ ν΄λΌμ΄μ–ΈνΈκ°€ λ†€κ³  μμ–΄λ„ μ„λ²„κ°€ μ μ§€ν•΄μ•Ό ν•λ”κ² λ‹¨μ μ΄λ‹¤.
- μ™λƒν•λ©΄ μ„λ²„μ μμ›μ΄ μ—°κ²°μ„ μ μ§€ν•λ”λ° **_κ³„μ† μ†λ¨_** λκΈ° λ•λ¬Έμ΄λ‹¤.

&nbsp;

## 4.2 μ—°κ²°μ„ μ μ§€ν•μ§€ μ•λ” λ¨λΈ (λΉ„μ—°κ²°μ„±)

![image](https://user-images.githubusercontent.com/78094972/234801264-85af6185-60bf-466a-9027-1334306d70f9.png)

- TCP/IP μ—°κ²° ν›„, ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ λ‹¨ ν•λ‚μ μ”μ²­ μ‘λ‹µ νλ¦„μ΄ λλ‚λ©΄ μ—°κ²°μ„ λ°”λ΅ μΆ…λ£ν•λ‹¤.
- κ·Έλ¦¬κ³  λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈμ™€ μ—°κ²° μ‹, μ΄μ „ ν΄λΌμ΄μ–ΈνΈμ™€μ μ—°κ²°μ€ μ μ§€ν•μ§€ μ•λ”λ‹¤.
- μ¦‰, μ„λ²„λ” μ—°κ²° μ μ§€λ¥Ό ν•μ§€ μ•μ•„ **_μµμ†ν•μ μμ›λ§ μ‚¬μ©_** ν•  μ μλ‹¤.

&nbsp;

### HTTPμ λΉ„μ—°κ²°μ„± μ¥μ 

- HTTPλ” κΈ°λ³Έμ΄ μ—°κ²°μ„ μ μ§€ν•μ§€ μ•λ” λ¨λΈμ΄κ³ ,
- μΌλ°μ μΌλ΅ μ΄ λ‹¨μ„ μ΄ν•μ λΉ λ¥Έ μ†λ„λ΅ μ‘λ‹µν•λ‹¤.
- κ·Έλμ„ 1μ‹κ°„ λ™μ• μμ²λ…μ΄ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•΄λ„ μ‹¤μ  μ„λ²„μ—μ„ λ™μ‹μ— μ²λ¦¬ν•λ” μ”μ²­μ€ μμ‹­κ° μ΄ν•λ΅ λ§¤μ° μ λ‹¤.
  - μ) μ›Ή λΈλΌμ°μ €μ—μ„ κ³„μ† μ—°μ†ν•΄μ„ κ²€μƒ‰ λ²„νΌμ„ λ„λ¥΄μ§€ μ•λ”λ‹¤.
- **_μ¦‰, μ„λ²„ μμ›μ„ λ§¤μ° ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤._**

&nbsp;

### λΉ„μ—°κ²°μ„±μ λ‹¨μ κ³Ό ν•΄κ²° λ°©λ²•

- λ‹¨μ 
  - TCP/IP μ—°κ²°μ„ μƒλ΅ λ§Ίμ–΄μ•Ό ν•κΈ° λ•λ¬Έμ—, 3 way handshake μ‹κ°„μ΄ μ¶”κ°€λλ‹¤.
  - μ›Ή λΈλΌμ°μ €λ΅ μ‚¬μ΄νΈλ¥Ό μ”μ²­ν•λ©΄ HTML λΏλ§ μ•„λ‹λΌ JavaScript, css, μ¶”κ°€ μ΄λ―Έμ§€ λ“± μλ§μ€ μμ›μ΄ ν•¨κ» λ‹¤μ΄λ΅λ“λλ‹¤.
- ν•΄κ²° λ°©λ²•
  - μ§€κΈμ€ `HTTP μ§€μ† μ—°κ²°(Persistent Connections)`λ΅ λ¬Έμ  ν•΄κ²°ν–λ‹¤.
  - HTTP/2 μ™€ HTTP/3μ—μ„ λ” λ§μ€ μµμ ν™”λ¥Ό ν•λ‹¤.

&nbsp;

## 4.3 HTTP μ§€μ† μ—°κ²°: λΉ„μ—°κ²°μ„±μ ν•κ³„ ν•΄κ²° λ°©λ²•

λΉ„μ—°κ²°μ„±μ ν•κ³„λ¥Ό ν•΄κ²°ν• λ°©λ²•μΈ `HTTP μ§€μ† μ—°κ²°`μ— λ€ν•΄ μ•μ•„λ³΄μ.

HTTP μ΄κΈ°μ—λ” λ¨λ“  μλ£μ— λ€ν•΄μ„ λΉ„μ—°κ²°μ„±μΌλ΅ 'μ—°κ²° -> μ‘λ‹µ -> μΆ…λ£' λ¥Ό λ°λ³µν•μ—¬, μ‹κ°„μ΄ λ€λµμ μΌλ΅ 1μ΄ κ°€λ‰ μ†λ¨λμ—λ‹¤κ³  ν•λ‹¤.

μ•„λ μ΄λ―Έμ§€λ¥Ό μ°Έμ΅°ν•μ.

![image](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F37024fde-ab57-4953-9fd1-62dda7951b1f%2FUntitled.png&blockId=1fca311e-5841-45d2-8770-a9821f766e86)

&nbsp;

κ·Έλ¬λ©΄ HTTP μ§€μ† μ—°κ²°λ΅ μ–΄λ–»κ² λ³€ν–μ„κΉ??

![image](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F46a04f27-85b1-4573-931a-88e7df14c211%2FUntitled.png&blockId=318906c9-6dfc-4a2e-a813-0d08920d69ac)

ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ™€ μ—°κ²°μ„ ν• λ‹¤μ, ν•„μ”ν• μμ›λ“¤μ„ λ¨λ‘ λ‹¤μ΄λ°›μ„ λ•κΉμ§€ μ”μ²­/μ‘λ‹µμ΄ λ°λ³µλ λ’¤ μΆ…λ£λλ‹¤. 

μ›λ‚ μ—λ” λ¬Έμ„λ¥Ό μ£Όλ΅ μ£Όκ³  λ°›μ•λ‹¤λ©΄ μ‹λ€κ°€ λ°μ „ν•΄κ°€λ©΄μ„ μ΄λ―Έμ§€, λ™μμƒ μ΄μ™Έμ νμΌμ„ λ³΄λ‚΄λ” μ‘μ—…λ“¤μ΄ λ§μ•„μ§€λ©΄μ„ μ§€μ† μ—°κ²°μ΄ ν•„μ”ν•΄μ΅λ‹¤.

λν•, HTTP/2,3μΌλ΅ μ¤λ©΄μ„ λ” λΉ¨λΌμ΅λ‹¤. νΉν, HTTP 3μΌλ΅ μ¤λ©΄μ„ UDPλ¥Ό μ‚¬μ©ν•μ—¬ μ—°κ²° μ†λ„ μμ²΄λ„ μ¤„μ–΄λ“¤μ—λ‹¤.

μ§€μ† μ—°κ²°μ„ μ‚¬μ©ν•κ³  μ‹¶λ‹¤λ©΄ http headerμ— `connection: keep-alive`λ¥Ό λ‹΄μ•„ λ³΄λ‚Έλ‹¤. 

&nbsp;

### 4.4 π”† μ‹¤λ¬΄μ—μ„ HTTP μ§€μ† μ—°κ²°ν•λ” κ²½μ°

**_μ‹¤λ¬΄ μƒν™©μ—μ„ νΉμ • μ‹κ°„μ— λ°μƒν•λ” λ€μ©λ‰ νΈλν”½μ κ²½μ°, μλ§λ…μ΄ λ™μ‹ μ”μ²­ν•κΈ° λ•λ¬Έμ— λ¬΄μƒνƒμ™€ HTTP μ§€μ† μ—°κ²°λ΅ μ„λ²„λ¥Ό μ„¤κ³„ν•΄μ•Ό λ€μ‘ν•  μ μλ” λ¶€λ¶„μ΄ λ§¤μ° λ§μ•„μ§„λ‹¤._**

- μ) μ„ μ°©μ μ΄λ²¤νΈ, λ…μ  KTX μμ•½, ν•™κ³Ό μμ—… λ“±λ΅, μ„ μ°©μ ν• μΈ μ΄λ²¤νΈ

&nbsp;

---

# 5. HTTP λ©”μ‹μ§€

- HTTP λ©”μ‹μ§€ κµ¬μ΅°λ¥Ό μ•μ•„λ³΄μ.
  - κ³µλ°± λΌμΈμ€ μ•„λ μμ„λ΅, ν•„μλ΅ μ΅΄μ¬ν•΄μ•Ό ν•λ‹¤.

![image](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1c1ade79-e244-4886-953b-ba3c12b4f115%2FUntitled.png&blockId=1f0cf7a3-cd02-4903-92ed-e9782fe18f93)

&nbsp;

## 5.1 μ‹μ‘ λΌμΈ(start line)

- start lineμ€ μ”μ²­ λ©”μ‹μ§€μ™€ μ‘λ‹µ λ©”μ‹μ§€ λ΅ λ‚λ μ§„λ‹¤.

- start line = request - line (μ”μ²­ λ©”μ‹μ§€) / status - line (μ‘λ‹µ λ©”μ‹μ§€)
  - request-line = method SP(κ³µλ°±) request-target SP HTTP-version CRLF(μ—”ν„°)
  - status-line = HTTP-version SP status-code SP reason-phrase CRLF

### 5.1.1 μ”μ²­ λ©”μ‹μ§€

![image](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9963de80-40e6-4cf3-a0cb-b048ab516fbc%2FUntitled.png&blockId=e21b890c-1a01-4393-8025-55d95e9d0705)

- start line = **request - line (μ”μ²­ λ©”μ‹μ§€)** / status - line (μ‘λ‹µ λ©”μ‹μ§€)

  - **request-line** = method SP(κ³µλ°±) request-target SP HTTP-version CRLF(μ—”ν„°)

  - HTTP method (**GET** /search?q=hello&hl=ko HTTP/1.1)

    - μΆ…λ¥: GET, POST, PUT, DELETE ...
    - μ„λ²„κ°€ μν–‰ν•΄μ•Ό ν•  λ™μ‘ μ§€μ •
      - GET: λ¦¬μ†μ¤ μ΅°ν / POST: μ”μ²­ λ‚΄μ—­ μ²λ¦¬

  - request-target (GET **/search?q=hello&hl=ko** HTTP/1.1)

    - absolute-path[?query] (μ λ€κ²½λ΅[?μΏΌλ¦¬])
    - μ λ€κ²½λ΅= "/" λ΅ μ‹μ‘ν•λ” κ²½λ΅
    - μ°Έκ³ : \*, <http://...?x=y> μ™€ κ°™μ΄ λ‹¤λ¥Έ μ ν•μ κ²½λ΅μ§€μ • λ°©λ²•λ„ μλ‹¤.

  - HTTP verison (GET /search?q=hello&hl=ko **HTTP/1.1**)

&nbsp;

### 5.1.2 μ‘λ‹µ λ©”μ‹μ§€

![image](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F085e5d58-f33b-4406-999f-e07072372050%2FUntitled.png&blockId=cf01f06f-02d7-47a5-be2b-d21d8d042dcf)

- start line = request - line (μ”μ²­ λ©”μ‹μ§€) / status - line (μ‘λ‹µ λ©”μ‹μ§€)
  - status-line = HTTP-version SP status-code SP reason-phrase CRLF
  - HTTP version
  - HTTP μƒνƒ μ½”λ“: μ”μ²­ μ„±κ³µ, μ‹¤ν¨λ¥Ό λ‚νƒ€λƒ„
    - 200: μ„±κ³µ
    - 400: ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ¤λ¥
    - 500: μ„λ²„ λ‚΄λ¶€ μ¤λ¥
  - μ΄μ  λ¬Έκµ¬: μ‚¬λμ΄ μ΄ν•΄ν•  μ μλ” μ§§μ€ μƒνƒ μ½”λ“ μ„¤λ… κΈ€

&nbsp;

## 5.2 HTTP header

> **header - field = field - name ":" OWS field - value OWS**  
> (OWS: λ„μ–΄μ“°κΈ° ν—μ©)

- **field - name: λ€μ†λ¬Έμ κµ¬λ¶„ μ—†μ**
- field - value: λ€μ†λ¬Έμ κµ¬λ¬Έ μμ
- μ©λ„
  - **HTTP μ „μ†΅μ— ν•„μ”ν• λ¨λ“  λ¶€κ°€μ •λ³΄κ°€ λ‹΄κ²¨μ Έ μλ‹¤.**
    - μ) λ©”μ‹μ§€ λ°”λ””μ λ‚΄μ©, ν¬κΈ°, μ••μ¶•, μΈμ¦
    - μ) μ”μ²­ ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €) μ •λ³΄, μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ… μ •λ³΄, μΊμ‹ κ΄€λ¦¬ μ •λ³΄
  - ν‘μ¤€ ν—¤λ”κ°€ λ„λ¬΄ λ§λ‹¤. (<https://en.wikipedia.org/wiki/List_of_HTTP_header_fields>)
  - ν•„μ”ν• κ²½μ°, μ„μμ ν—¤λ” μ¶”κ°€ κ°€λ¥

&nbsp;

## 5.3 HTTP message body

- **μ‹¤μ  μ „μ†΅ν•  λ°μ΄ν„°**
- HTML λ¬Έμ„, μ΄λ―Έμ§€, μμƒ, JSON λ“±λ“± byteλ΅ ν‘ν„ν•  μ μλ” λ¨λ“  λ°μ΄ν„° μ „μ†΅ κ°€λ¥

&nbsp;

---

# HTTP μ •λ¦¬

- HTTP λ©”μ‹μ§€μ— λ¨λ“  κ²ƒμ„ μ „μ†΅ν•λ‹¤.
- HTTP μ—­μ‚¬: HTTP/1.1μ„ κΈ°μ¤€μΌλ΅ ν•™μµν•λ‹¤.
- ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°μ΄λ‹¤.
- statefulκ³Ό λ¬΄μƒνƒ ν”„λ΅ν† μ½(stateless) λ¨λ‘ μ‚¬μ©ν•λ‹¤.  
- HTTP λ©”μ‹μ§€
- λ‹¨μν•λ©° ν™•μ¥ κ°€λ¥ν•λ‹¤.
- μ§€κΈμ€ HTTP μ‹λ€λ‹¤.

---

# Reference

- [λ¨λ“  κ°λ°μλ¥Ό μ„ν• HTTP μ›Ή κΈ°λ³Έμ§€μ‹](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC)
- [HTTP κΈ°λ³Έ](h<https://catsbi.oopy.io/5c0b482c-b427-4052-9030-d2be0810eeb6)>
- [μ¤μΌ€μΌ μ•„μ›ƒκ³Ό μ¤μΌ€μΌ μ—…](https://m.blog.naver.com/islove8587/220548900044)
